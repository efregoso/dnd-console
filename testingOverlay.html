<!DOCTYPE html>
<html>

	<head>
		<title>Overlap Practice</title>
	</head>
	
	<body>
	
		<script>
			// On load, overlay
			
			document.body.style.backgroundColor = "pink";
			
			var overlay = document.createElement("DIV");
			overlay.style.height = "100%";
			overlay.style.width = "100%";
			overlay.style.backgroundColor = "black";
			overlay.style.zIndex = "2";
			overlay.style.opacity = "1.0";
			overlay.style.position = "fixed";
			overlay.style.top = "0px";
			overlay.style.left = "0px";
			overlay.setAttribute("id", "overlay");
			
			console.log("Got this far");
			
			var span = document.createElement("SPAN");
			span.innerHTML = "Am I working";			
			
			overlay.appendChild(span);
			document.body.appendChild(overlay);
			
			overlay.addEventListener("click", removeOverlay);
			console.log("Will remove overlay on click event.");
			
			console.log("Should be done.");
			
			
			function removeOverlay() {
				// Make overlay fade
				// Decrease overlay's opacity gradually by 0.1 every 3 seconds
				var overlay = document.getElementById("overlay");
				setTimeout(function(){overlay.style.opacity = (parseFloat(overlay.style.opacity) - 0.1).toString();}, 200);
				setTimeout(function(){overlay.style.opacity = (parseFloat(overlay.style.opacity) - 0.1).toString();}, 400);
				setTimeout(function(){overlay.style.opacity = (parseFloat(overlay.style.opacity) - 0.1).toString();}, 600);
				setTimeout(function(){overlay.style.opacity = (parseFloat(overlay.style.opacity) - 0.1).toString();}, 800);
				setTimeout(function(){overlay.style.opacity = (parseFloat(overlay.style.opacity) - 0.1).toString();}, 1000);
				setTimeout(function(){overlay.style.opacity = (parseFloat(overlay.style.opacity) - 0.1).toString();}, 1200);
				setTimeout(function(){overlay.style.opacity = (parseFloat(overlay.style.opacity) - 0.1).toString();}, 1400);
				setTimeout(function(){overlay.style.opacity = (parseFloat(overlay.style.opacity) - 0.1).toString();}, 1600);
				setTimeout(function(){overlay.style.opacity = (parseFloat(overlay.style.opacity) - 0.1).toString();}, 1800);
				setTimeout(function(){document.body.removeChild(overlay);}, 2000);
				//document.body.removeChild(overlay);
			}
			
		
		</script>


		<span>Hi.</span>

	</body>






</html>